!function(l){function o(l){f.toggle(!!l)}function t(){r&&f.scrollLeft(r.scrollLeft())}function s(){if(e=r,r=null,c.forEach(function(o,t){var s=l(o),e=s.offset().top,c=e+s.height(),d=i.scrollTop()+i.height()-n[t].css.bottom;if(e+30<d&&c>d)return r=s,f.css(n[t].css),!1}),!r)return void o();var s=r.scrollLeft(),h=r.scrollLeft(90019001).scrollLeft(),u=r.innerWidth(),a=u+h;if(r.scrollLeft(s),a<=u)return void o();o(!0),e&&e[0]===r[0]||(e&&e.unbind("scroll",t),r.scroll(t)),f.css({left:r.offset().left-i.scrollLeft(),width:u}).scrollLeft(s),d.width(a)}var r,e,i=l(this),c=(l("html"),[]),n=[],f=l('<div id="floating-scrollbar"><div/></div>'),d=f.children();scrollerStdCSS={position:"fixed",bottom:"0px",height:"30px",overflowX:"auto",overflowY:"hidden"},f.hide().css(scrollerStdCSS).scroll(function(){r&&r.scrollLeft(f.scrollLeft())}),d.css({border:"1px solid #fff",opacity:.01}),l.fn.floatingScrollbar=function(o,r){if(o===!1){var e=c.indexOf(this);e>-1&&(n.splice(e,1),c.splice(e,1)),this.unbind("scroll",t),c.length||i.unbind("resize scroll",s)}else this.length&&(c.length||(l(f).appendTo(document.body),i.resize(s).scroll(s)),c.push(this),n.push(r||{css:scrollerStdCSS}));return s(),this},l.floatingScrollbarUpdate=s}(jQuery);